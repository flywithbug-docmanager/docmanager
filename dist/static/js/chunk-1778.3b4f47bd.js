(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-1778"],{"7UJr":function(e,t,a){"use strict";a.r(t);var n=a("ZAAW"),o=(a("tWJv"),{name:"info",props:{dataModel:{type:Object,require:!0}},created:function(){},data:function(){return{parentId:"",loading:!1,formEdited:!1,options:[],pClass:"请输入模型关键字",rules:{name:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]}}},watch:{dataModel:function(e){e.parent&&(this.pClass=e.parent.name)}},methods:{updateModelInfo:function(){var e=this,t={id:this.dataModel.id,desc:this.dataModel.desc};this.parentId&&(t.parentId=this.parentId),Object(n.b)(t).then(function(){e.formEdited=!1,e.$notify({title:"修改成功",type:"success",duration:1500})})},queryManager:function(e){var t=this;if(0!=e.length){var a={name:e,exc:this.dataModel.id};Object(n.f)(a).then(function(e){t.options=e.list})}}}}),r=(a("YaN3"),a("KHd+")),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:12}},[a("div",[a("el-form",{attrs:{model:e.dataModel,"label-width":"90px",rules:e.rules}},[a("el-form-item",{attrs:{label:"模型名称",prop:"name"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dataModel.name,callback:function(t){e.$set(e.dataModel,"name",t)},expression:"dataModel.name"}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",[a("el-form",{attrs:{model:e.dataModel,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"父类"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{"remote-method":e.queryManager,loading:e.loading,remote:"","reserve-keyword":"",filterable:"",clearable:"",placeholder:e.pClass},on:{change:function(t){e.formEdited=!0}},model:{value:e.parentId,callback:function(t){e.parentId=t},expression:"parentId"}},e._l(e.options,function(e){return a("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}))],1)],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("div",[a("el-form",{attrs:{model:e.dataModel,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"业务线(TODO)"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dataModel.alias,callback:function(t){e.$set(e.dataModel,"alias",t)},expression:"dataModel.alias"}})],1)],1)],1)]),e._v(" "),a("el-col",{attrs:{span:12}},[a("div",[a("el-form",{attrs:{model:e.dataModel,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"负责人"}},[a("el-input",{attrs:{disabled:""},model:{value:e.dataModel.owner.username,callback:function(t){e.$set(e.dataModel.owner,"username",t)},expression:"dataModel.owner.username"}})],1)],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",[a("el-form",{attrs:{model:e.dataModel,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"模型描述"}},[a("el-input",{attrs:{autosize:{minRows:2,maxRows:4},placeholder:e.$t("placeholder.desc"),type:"textarea"},on:{change:function(t){e.formEdited=!0}},model:{value:e.dataModel.desc,callback:function(t){e.$set(e.dataModel,"desc",t)},expression:"dataModel.desc"}})],1)],1)],1)])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.formEdited,expression:"formEdited"}],attrs:{align:"center"}},[a("el-button",{attrs:{type:"primary",size:"small",round:""},on:{click:e.updateModelInfo}},[a("svg-icon",{staticStyle:{"margin-right":"5px"},attrs:{"icon-class":"confirm_r"}}),e._v("保存修改")],1)],1)])],1),e._v(" "),a("hr",{staticStyle:{border:"1px dashed rgba(104,178,77,0.3)"}})],1)},[],!1,null,"c812804c",null);l.options.__file="info.vue";t.default=l.exports},YaN3:function(e,t,a){"use strict";var n=a("v7u4");a.n(n).a},ZAAW:function(e,t,a){"use strict";a.d(t,"c",function(){return o}),a.d(t,"f",function(){return r}),a.d(t,"b",function(){return l}),a.d(t,"d",function(){return d}),a.d(t,"e",function(){return i}),a.d(t,"g",function(){return s}),a.d(t,"a",function(){return c});var n=a("bNJ/");function o(e){return Object(n.a)({url:"/tools/model?id="+e,method:"get"})}function r(e){return Object(n.a)({url:"/tools/model/list",method:"get",params:e})}function l(e){return Object(n.a)({url:"/tools/model",method:"put",data:e})}function d(e){return Object(n.a)({url:"/tools/model_apps",method:"get",params:e})}function i(e){return Object(n.a)({url:"/tools/model_app/version",method:"put",data:e})}function s(e){return Object(n.a)({url:"/tools/model_app",method:"Delete",data:e})}function c(e){return Object(n.a)({url:"/tools/model_app",method:"POST",data:e})}},tWJv:function(e,t,a){"use strict";a.d(t,"a",function(){return o}),a.d(t,"b",function(){return r}),a.d(t,"c",function(){return l});var n=a("bNJ/");function o(e){var t={bundle_id:e.bundle_id,icon:e.icon,name:e.name,desc:e.desc,managers:e.managers};return Object(n.a)({url:"/app",method:"post",data:t})}function r(e){var t={icon:e.icon,name:e.name,desc:e.desc,id:e.id,managers:e.managers,owner_id:e.owner_id};return Object(n.a)({url:"/app",method:"put",data:t})}function l(){return Object(n.a)({url:"/app/list/simple",method:"get"})}},v7u4:function(e,t,a){}}]);